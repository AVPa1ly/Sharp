Непосредственно часть 3 лабы с валидацией xml и json представлена в библиотеке CfgManager.

Основной класс -- Validator. Объект этого класса создаётся в начале службы по констурктору с передачей пути к config-файлу (по умолчанию -- json). В Validator на основании полученного путя создаётся объект класса, реализующего интерфейс IValidate, для извлечения конфигурации из файла соответствующего типа. Затем из этого объекта извлекаются данные в уже созданный объект класса Validator, а затем поступают в службу.

Интерфейс IValidate, который реализуют классы, валидирующие xml и json, гарантирует, что эти классы, имеют (обобщенный) метод по выдаче данных.

Класс EtlJsonOptions предназначен для извлечения информации из json файла. При это он не использует Newtonsoft.Json или System.Text.Json. Есть возможность добавления новых полей в блоках конфигурации (ArchiveOptions, SourceOptions, TargetOptions) с соответствующими изменениями модели на стороне .NET.

Класс EtlXmlOptions предназначен для извлечения информации из xml файла. Реализована проверка валидности через xsd. Есть возможность добавления новых полей в блоках конфигурации.

Классы ArchiveOptions,SourceOptions,TargetOptions представляют из себя отдельный блоки конфигурации и содержат свойства описывающие соответственные пути. Есть возможность добавления новых полей.

Если служба не заработает, проблема в расположении cfg-файлов, они должны лежать в конкретной папке (извините, захардкодил). Если не будет возможности перенести папку Config по заданному пути, постараюсь сделать обобщенный путь.

Необходимый путь к папке Config: папка "Документы" (C:\Users\user\Documents)
(Туда закинуть папку Config из всего набора файлов решения)
По этому же пути по дефолту прописаны папки SourceDirectory и TargetDirectory в xml и json

P.S Сдаю 3 лабу раньше 2, потому что по злому стечению обстоятельств (люблю хранить лабы исключительно на флешке) ванильная 2 лаба (без доработок для 3) слетела, я это заметил только сейчас (23.44 30.11.20), хотел сразу сдать обе, но вот...не сошлось. Завтра (не знаю, когда вы это просмотрите) будет залита обычная 2 лаба. Понимаю, дедлайн посмеялся и улетел к праотцам уже, но что поделаешь...извините, что так задержал, на меня очень плохо влияет самоизоляция и корона(
P.P.S Не сердитесь на поток, такие же дурачки(зачернкуто) занятые люди, как я)
P.P...S Надеюсь, чутка сгладил углы и приподнял вам настроение этими бесконечными P...S. Жыве Беларусь)